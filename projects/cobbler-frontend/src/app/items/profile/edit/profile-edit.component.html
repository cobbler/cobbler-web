<div class="title-table">
  <div class="title-row">
    <h1 class="title title-cell-text">Name: {{ name }}</h1>
    <span class="title-cell-button">
      <button
        mat-icon-button
        (click)="this.refreshData()"
        matTooltip="Refresh data"
      ><mat-icon>refresh</mat-icon></button>
    </span>
    <span class="title-cell-button">
      <button
        mat-icon-button
        (click)="this.copyProfile()"
        matTooltip="Copy"
      ><mat-icon>content_copy</mat-icon></button>
    </span>
    <span class="title-cell-button">
      <button
        mat-icon-button
        (click)="this.editProfile()"
        matTooltip="Edit"
      ><mat-icon>edit</mat-icon></button>
    </span>
    <span class="title-cell-button">
      <button
        mat-icon-button
        (click)="this.removeProfile()"
        matTooltip="Delete"
      ><mat-icon>delete</mat-icon></button>
    </span>
  </div>
</div>

<form class="form-replicate" [formGroup]="profileFormGroup">
  <mat-form-field class="form-field-full-width">
    <mat-label>Name</mat-label>
    <input matInput type="text" formControlName="name"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>UID</mat-label>
    <input matInput type="text" formControlName="uid"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Last modified time</mat-label>
    <input matInput type="text" formControlName="mtime"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Creation time</mat-label>
    <input matInput type="text" formControlName="ctime"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Depth</mat-label>
    <input matInput type="number" formControlName="depth"/>
  </mat-form-field>
  <mat-checkbox class="form-field-full-width" formControlName="is_subobject">Is Subobject?</mat-checkbox>
  <ng-container class="form-field-full-width">
    <cobbler-multi-select label="Boot Loaders" [multiSelectOptions]='["ipxe", "grub", "pxe"]' formControlName="boot_loaders"></cobbler-multi-select>
    <mat-checkbox formControlName="bootloader_inherited">Inherited</mat-checkbox>
  </ng-container>
  <mat-form-field class="form-field-full-width">
    <mat-label>Comment</mat-label>
    <input matInput type="text" formControlName="comment"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Autoinstall</mat-label>
    <input matInput type="text" formControlName="autoinstall"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>DHCP Tag</mat-label>
    <input matInput type="text" formControlName="dhcp_tag"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Distribution</mat-label>
    <input matInput type="text" formControlName="distro"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Menu</mat-label>
    <input matInput type="text" formControlName="menu"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Next-Server IPv4</mat-label>
    <input matInput type="text" formControlName="next_server_v4"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Next-Server IPv6</mat-label>
    <input matInput type="text" formControlName="next_server_v6"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Filename</mat-label>
    <input matInput type="text" formControlName="filename"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Parent</mat-label>
    <input matInput type="text" formControlName="parent"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Proxy</mat-label>
    <input matInput type="text" formControlName="proxy"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>RedHat Management Key</mat-label>
    <input matInput type="text" formControlName="redhat_management_key"/>
  </mat-form-field>
  <mat-form-field class="form-field-full-width">
    <mat-label>Server</mat-label>
    <input matInput type="text" formControlName="server"/>
  </mat-form-field>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="Automatic Installation Template Metadata" [keyValueOptions]="profileAutoinstallMeta" formControlName="autoinstall_meta"></cobbler-key-value-editor>
    <mat-checkbox formControlName="autoinstall_meta_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="TFTP Boot Files" [keyValueOptions]="profileBootFiles" formControlName="boot_files"></cobbler-key-value-editor>
    <mat-checkbox formControlName="boot_files_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="Fetchable Files" [keyValueOptions]="profileFetchableFiles" formControlName="fetchable_files"></cobbler-key-value-editor>
    <mat-checkbox formControlName="fetchable_files_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="Kernel Options" [keyValueOptions]="profileKernelOptions" formControlName="kernel_options"></cobbler-key-value-editor>
    <mat-checkbox formControlName="kernel_options_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="Kernel Options (Post Install)" [keyValueOptions]="profileKernelOptionsPost" formControlName="kernel_options_post"></cobbler-key-value-editor>
    <mat-checkbox formControlName="kernel_options_post_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-multi-select label="Management Classes" formControlName="mgmt_classes"></cobbler-multi-select>
    <mat-checkbox formControlName="mgmt_classes_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="Management Parameters" [keyValueOptions]="profileMgmtParameters" formControlName="mgmt_parameters"></cobbler-key-value-editor>
    <mat-checkbox formControlName="mgmt_parameters_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-multi-select label="Name Servers" [multiSelectOptions]="[]" formControlName="name_servers"></cobbler-multi-select>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-multi-select label="Name Servers Search Path" [multiSelectOptions]="[]" formControlName="name_servers_search"></cobbler-multi-select>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-multi-select label="Owners" [multiSelectOptions]="profileOwners" formControlName="owners"></cobbler-multi-select>
    <mat-checkbox formControlName="owners_inherited">Inherited</mat-checkbox>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-multi-select label="Repos" [multiSelectOptions]="[]" formControlName="repos"></cobbler-multi-select>
  </ng-container>
  <ng-container class="form-field-full-width">
    <cobbler-key-value-editor label="Template Files" [keyValueOptions]="profileTemplateFiles" formControlName="template_files"></cobbler-key-value-editor>
    <mat-checkbox formControlName="template_files_inherited">Inherited</mat-checkbox>
  </ng-container>
  <!-- TODO: virt options -->
  @if (isEditMode) {
    <button mat-button (click)="saveProfile()">Save Distro</button>
  }
</form>
